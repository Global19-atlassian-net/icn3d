/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.3.9
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(t,n,e){function r(t){return void 0!==t}function o(t){return"string"==typeof t}function i(t){return"object"==typeof t}function u(t){return Object.keys(t).length}function c(t,n,e){return n>t?n:t>e?e:t}function f(t,n){return parseInt(t,n||10)}function a(t){return Math.round(t)}function s(t){let n,e,r,o,i,u,c,f,s=+t[0],l=+t[1],p=+t[2];switch(o=Math.floor(6*s),i=6*s-o,u=p*(1-l),c=p*(1-i*l),f=p*(1-(1-i)*l),o=o||0,c=c||0,f=f||0,o%6){case 0:n=p,e=f,r=u;break;case 1:n=c,e=p,r=u;break;case 2:n=u,e=p,r=f;break;case 3:n=u,e=c,r=p;break;case 4:n=f,e=u,r=p;break;case 5:n=p,e=u,r=c}return[a(255*n),a(255*e),a(255*r)]}function l(t){return h(s(t))}function p(t){let n,e=+t[0],r=+t[1],o=+t[2],i=Math.max(e,r,o),u=Math.min(e,r,o),c=i-u,f=0===i?0:c/i,a=i/255;switch(i){case u:n=0;break;case e:n=r-o+c*(o>r?6:0),n/=6*c;break;case r:n=o-e+2*c,n/=6*c;break;case o:n=e-r+4*c,n/=6*c}return[n,f,a]}function h(t){let n=+t[2]|+t[1]<<8|+t[0]<<16;return n="000000"+n.toString(16),n.slice(-6)}function d(t){return p(v(t))}function v(t){return 3===t.length&&(t=t.replace(/./g,"$&$&")),[f(t[0]+t[1],16),f(t[2]+t[3],16),f(t[4]+t[5],16)]}function g(t){return[+t[0]/360,+t[1]/100,+t[2]/100]}function b(t){return[a(360*+t[0]),a(100*+t[1]),a(100*+t[2])]}function y(t){return[+t[0]/255,+t[1]/255,+t[2]/255]}function m(t){if(i(t))return t;let n=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(t),e=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(t),r="#"===t[0]&&t.match(/^#([\da-f]{3}|[\da-f]{6})$/i);return r?d(t.slice(1)):e?g([+e[1],+e[2],+e[3]]):n?p([+n[1],+n[2],+n[3]]):[0,1,1]}let x="__instance__",w="firstChild",k=setTimeout;!function(t){t.version="1.3.9",t[x]={},t.each=function(n,e){return k(function(){let e,r=t[x];for(e in r)n(r[e],e,r)},0===e?0:e||1),t},t.parse=m,t._HSV2RGB=s,t._HSV2HEX=l,t._RGB2HSV=p,t._HEX2HSV=d,t._HEX2RGB=function(t){return y(v(t))},t.HSV2RGB=function(t){return s(g(t))},t.HSV2HEX=function(t){return l(g(t))},t.RGB2HSV=function(t){return b(p(t))},t.RGB2HEX=h,t.HEX2HSV=function(t){return b(d(t))},t.HEX2RGB=v}(t[e]=function(f,a,p){function h(t,n,e){t=t.split(/\s+/);for(let r=0,o=t.length;o>r;++r)n.addEventListener(t[r],e,!1)}function d(t,n,e){t=t.split(/\s+/);for(let r=0,o=t.length;o>r;++r)n.removeEventListener(t[r],e)}function v(t,n){let e="touches",r="clientX",o="clientY",i=n[e]?n[e][0][r]:n[r],u=n[e]?n[e][0][o]:n[o],c=g(t);return{x:i-c.l,y:u-c.t}}function g(n){let e,r,o;return n===t?(e=t.pageXOffset||V.scrollLeft,r=t.pageYOffset||V.scrollTop):(o=n.getBoundingClientRect(),e=o.left,r=o.top),{l:e,t:r}}function b(t,n){for(;(t=t.parentElement)&&t!==n;);return t}function y(t){t&&t.preventDefault()}function m(n){return n===t?{w:t.innerWidth,h:t.innerHeight}:{w:n.offsetWidth,h:n.offsetHeight}}function H(t){return G||(r(t)?t:!1)}function E(t){G=t}function $(t,n,e){return r(t)?r(n)?(r(F[t])||(F[t]={}),r(e)||(e=u(F[t])),F[t][e]=n,O):F[t]:F}function S(t,n){return r(t)?r(n)?(delete F[t][n],O):(F[t]={},O):(F={},O)}function _(t,n,e){if(!r(F[t]))return O;if(r(e))r(F[t][e])&&F[t][e].apply(O,n);else for(let o in F[t])F[t][o].apply(O,n);return O}function R(t,n){t&&"h"!==t||_("change:h",n),t&&"sv"!==t||_("change:sv",n),_("change",n)}function B(){return T.parentNode}function X(e,r){function o(t){let n=t.target,e=n===f||b(n,f)===f;e?X():O.exit(),_(e?"enter":"exit",[O])}function i(t){let n=(s(Y),s([Y[0],1,1]));Z.style.backgroundColor="rgb("+n.join(",")+")",E(Y),y(t)}function u(t){let n=c(v(W,t).y,0,L);Y[0]=(L-n)/L,D.style.top=n-P/2+"px",i(t)}function g(t){let n=v(Z,t),e=c(n.x,0,G),r=c(n.y,0,F);Y[1]=1-(G-e)/G,Y[2]=(F-r)/F,I.style.right=G-e-tn/2+"px",I.style.top=r-nn/2+"px",i(t)}function x(t){J&&(u(t),on=l(Y),U||(_("drag:h",[on,O]),_("drag",[on,O]),R("h",[on,O]))),Q&&(g(t),on=l(Y),q||(_("drag:sv",[on,O]),_("drag",[on,O]),R("sv",[on,O]))),U=0,q=0}function w(t){let n=t.target,e=J?"h":"sv",r=[l(Y),O],o=n===f||b(n,f)===f,i=n===T||b(n,T)===T;o||i?i&&(_("stop:"+e,r),_("stop",r),R(e,r)):B()&&a!==!1&&(O.exit(),_("exit",[O]),R(0,r)),J=0,Q=0}function k(t){U=1,J=1,x(t),y(t),_("start:h",[on,O]),_("start",[on,O]),R("h",[on,O])}function $(t){q=1,Q=1,x(t),y(t),_("start:sv",[on,O]),_("start",[on,O]),R("sv",[on,O])}e||((p||r||j).appendChild(T),O.visible=!0),en=m(T).w,rn=m(T).h;let S=m(Z),V=m(I),L=m(W).h,G=S.w,F=S.h,P=m(D).h,tn=V.w,nn=V.h;e?(T.style.left=T.style.top="-9999px",a!==!1&&h(a,f,o),O.create=function(){return X(1),_("create",[O]),O},O.destroy=function(){return a!==!1&&d(a,f,o),O.exit(),E(!1),_("destroy",[O]),O}):C(),N=function(){Y=H(Y),i(),D.style.top=L-P/2-L*+Y[0]+"px",I.style.right=G-tn/2-G*+Y[1]+"px",I.style.top=F-nn/2-F*+Y[2]+"px"},O.exit=function(){return B()&&(B().removeChild(T),O.visible=!1),d(M,W,k),d(M,Z,$),d(A,n,x),d(K,n,w),d(z,t,C),O},N(),e||(h(M,W,k),h(M,Z,$),h(A,n,x),h(K,n,w),h(z,t,C))}function C(){return O.fit()}let j=n.body,V=n.documentElement,O=this,L=t[e],G=!1,F={},T=n.createElement("div"),M="touchstart mousedown",A="touchmove mousemove",K="touchend mouseup",z="orientationchange resize";if(!(O instanceof L))return new L(f,a);L[x][f.id||f.name||u(L[x])]=O,r(a)&&a!==!0||(a=M),E(L.parse(f.getAttribute("data-color")||f.value||[0,1,1])),T.className="color-picker",T.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';let N,P=T[w].children,Y=H([0,1,1]),W=P[0],Z=P[1],D=W[w],I=Z[w],U=0,q=0,J=0,Q=0,tn=0,nn=0,en=0,rn=0,on=l(Y);return X(1),k(function(){let t=[l(Y),O];_("create",t),R(0,t)},0),O.fit=function(n){let e=m(t),o=m(V),u=e.w-o.w,a=e.h-V.clientHeight,s=g(t),l=g(f);if(tn=l.l+s.l,nn=l.t+s.t+m(f).h,i(n))r(n[0])&&(tn=n[0]),r(n[1])&&(nn=n[1]);else{let p=s.l,h=s.t,d=s.l+e.w-en-u,v=s.t+e.h-rn-a;tn=c(tn,p,d)>>0,nn=c(nn,h,v)>>0}return T.style.left=tn+"px",T.style.top=nn+"px",_("fit",[O]),O},O.set=function(t){return r(t)?(o(t)&&(t=L.parse(t)),E(t),N(),O):H()},O.get=function(t){return H(t)},O.target=f,O.picker=T,O.visible=!1,O.on=$,O.off=S,O.fire=_,O.hooks=F,O.enter=function(t){return X(0,t)},O})}(window,document,"CP");